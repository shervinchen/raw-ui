import { Grid, Popover } from '@/packages';
import Playground from '@/src/app/components/playground';

# Popover

The floating box popped by clicking.

## Import

```tsx
import { Popover } from 'raw-ui';
```

## Default

<Playground
  scope={{ Popover }}
  code={`
<Popover content="I am a popover">Click me</Popover>
`}
/>

## Hide arrow

<Playground
  scope={{ Popover }}
  code={`
<Popover content="I am a popover" hideArrow>
  Click me
</Popover>
`}
/>

## Disabled

<Playground
  scope={{ Popover }}
  code={`
<Popover content="I am a popover" disabled>
  Click me
</Popover>
`}
/>

## Placement

<Playground
  scope={{ Grid, Popover }}
  code={`
<Grid gutter={[0, 32]}>
  <Grid.Col span={24}>
    <Grid gutter={[32, 0]}>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="topLeft"
        >
          Top Left
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="top"
        >
          Top
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="topRight"
        >
          Top Right
        </Popover>
      </Grid.Col>
    </Grid>
  </Grid.Col>
  <Grid.Col span={24}>
    <Grid gutter={[32, 0]}>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="bottomLeft"
        >
          Bottom Left
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="bottom"
        >
          Bottom
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="bottomRight"
        >
          Bottom Right
        </Popover>
      </Grid.Col>
    </Grid>
  </Grid.Col>
  <Grid.Col span={24}>
    <Grid gutter={[32, 0]}>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="leftTop"
        >
          Left Top
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="left"
        >
          Left
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="leftBottom"
        >
          Left Bottom
        </Popover>
      </Grid.Col>
    </Grid>
  </Grid.Col>
  <Grid.Col span={24}>
    <Grid gutter={[32, 0]}>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="rightTop"
        >
          Right Top
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="right"
        >
          Right
        </Popover>
      </Grid.Col>
      <Grid.Col>
        <Popover
          content="I am a popover with different placement"
          placement="rightBottom"
        >
          Right Bottom
        </Popover>
      </Grid.Col>
    </Grid>
  </Grid.Col>
</Grid>
`}
/>

## Controlled

<Playground
  scope={{ Popover }}
  code={`
() => {
  const [value, setValue] = React.useState(false);

  return (
    <Popover
      content="I am a controlled popover"
      value={value}
      onChange={(nextValue) => {
        setValue(nextValue);
      }}
    >
      Click me
    </Popover>
  );
}
`}
/>

## Set parent element

The popover popup is rendered below the body element by default and outside the parent element, it may cause the popover popup to be cut off(when the parent element can be scrolled). To avoid this, you can set the parent element using the `getPopupContainer` prop.

When you set a new parent element, the popover popup will be rendered under this parent element. Since the popover popup uses `absolute` positioning, you need to set `relative` positioning for the parent element.

<Playground
  scope={{ Popover }}
  code={`
<div
  id="parentElement"
  style={{
    position: 'relative',
    overflowY: 'auto',
    width: '400px',
    height: '200px',
  }}
>
  <div
    style={{
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      height: '400px',
    }}
  >
    <Popover content="I am a popover" getPopupContainer={() => document.querySelector('#parentElement')}>Click me</Popover>
  </div>
</div>
`}
/>

## API

| Prop              | Description                                       | Type                                                   | Default |
| ----------------- | ------------------------------------------------- | ------------------------------------------------------ | ------- |
| content           | content of popover                                | React.ReactNode                                        | -       |
| defaultValue      | default visible or not (uncontrolled)             | boolean                                                | false   |
| value             | visible or not (controlled)                       | boolean                                                | -       |
| hideArrow         | hide popover arrow                                | boolean                                                | false   |
| disabled          | disable popover                                   | boolean                                                | false   |
| placement         | position of the popover                           | PopoverPlacement                                       | 'top'   |
| onChange          | change event handler                              | (value: boolean) => void                               | -       |
| getPopupContainer | set the parent element of popover popup rendering | () => HTMLElement \| null                              | -       |
| ...               | native props                                      | React.HTMLAttributes                                   | -       |

## Type

```tsx
import { PopoverPlacement } from 'raw-ui';
```

### PopoverPlacement

```tsx
type PopoverPlacement =
  | 'top'
  | 'topLeft'
  | 'topRight'
  | 'left'
  | 'leftTop'
  | 'leftBottom'
  | 'bottom'
  | 'bottomLeft'
  | 'bottomRight'
  | 'right'
  | 'rightTop'
  | 'rightBottom';
```

import { Grid, Select } from '@/packages';
import Playground from '@/src/app/components/playground';

# Select

Display a dropdown list of items.

## Import

```tsx
import { Select } from 'raw-ui';
```

## Default

<Playground
  scope={{ Select }}
  code={`
<Select width="200px" placeholder="Select option">
  <Select.Option value="1">Option 1</Select.Option>
  <Select.Option value="2">Option 2</Select.Option>
</Select>
`}
/>

## Types

<Playground
  scope={{ Grid, Select }}
  code={`
<Grid gutter={[0, 32]}>
  <Grid.Col span={24}>
    <Select width="200px" placeholder="Default Type">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
  <Grid.Col span={24}>
    <Select width="200px" type="warning" placeholder="Warning Type">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
  <Grid.Col span={24}>
    <Select width="200px" type="error" placeholder="Error Type">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
</Grid>
`}
/>

## Sizes

<Playground
  scope={{ Grid, Select }}
  code={`
<Grid gutter={[0, 32]}>
  <Grid.Col span={24}>
    <Select size="xs" width="200px" placeholder="Extra Small">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
  <Grid.Col span={24}>
    <Select size="sm" width="200px" placeholder="Small">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
  <Grid.Col span={24}>
    <Select size="md" width="200px" placeholder="Medium">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
  <Grid.Col span={24}>
    <Select size="lg" width="200px" placeholder="Large">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
  <Grid.Col span={24}>
    <Select size="xl" width="200px" placeholder="Extra Large">
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </Grid.Col>
</Grid>
`}
/>

## Selected

<Playground
  scope={{ Select }}
  code={`
<Select width="200px" placeholder="Select option" defaultValue="1">
  <Select.Option value="1">Option 1</Select.Option>
  <Select.Option value="2">Option 2</Select.Option>
</Select>
`}
/>

## Controlled

<Playground
  scope={{ Select }}
  code={`
() => {
  const [selectValue, setSelectValue] = React.useState<SelectValue>();

  return (
    <Select
      width="200px"
      placeholder="Select option"
      value={selectValue}
      onChange={(value) => {
        setSelectValue(value);
      }}
    >
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  );
}
`}
/>

## Multiple

<Playground
  scope={{ Select }}
  code={`
() => {
  const optionsData = React.useMemo(() => [
    {
      name: 'React',
      value: 'react',
    },
    {
      name: 'Vue',
      value: 'vue',
    },
    {
      name: 'Angular',
      value: 'angular',
    },
    {
      name: 'Svelte',
      value: 'svelte',
    },
  ], []);

  return (
    <Select
      width="200px"
      placeholder="Select option"
      multiple
      defaultValue={['react', 'vue']}
    >
      {optionsData.map((item) => (
        <Select.Option value={item.value} key={item.value}>
          {item.name}
        </Select.Option>
      ))}
    </Select>
  );
}
`}
/>

## Clearable

<Playground
  scope={{ Grid, Select }}
  code={`
() => {
  const optionsData = React.useMemo(() => [
    {
      name: 'React',
      value: 'react',
    },
    {
      name: 'Vue',
      value: 'vue',
    },
    {
      name: 'Angular',
      value: 'angular',
    },
    {
      name: 'Svelte',
      value: 'svelte',
    },
  ], []);

  return (
    <Grid gutter={[32, 0]}>
      <Grid.Col>
        <Select
          width="200px"
          placeholder="Select option"
          defaultValue="1"
          clearable
        >
          <Select.Option value="1">Option 1</Select.Option>
          <Select.Option value="2">Option 2</Select.Option>
        </Select>
      </Grid.Col>
      <Grid.Col>
        <Select
          width="200px"
          placeholder="Select option"
          defaultValue={['react', 'vue']}
          multiple
          clearable
        >
          {optionsData.map((item) => (
            <Select.Option value={item.value} key={item.value}>
              {item.name}
            </Select.Option>
          ))}
        </Select>
      </Grid.Col>
    </Grid>
  );
}
`}
/>


## Disabled select

<Playground
  scope={{ Grid, Select }}
  code={`
() => {
  const optionsData = React.useMemo(() => [
    {
      name: 'React',
      value: 'react',
    },
    {
      name: 'Vue',
      value: 'vue',
    },
    {
      name: 'Angular',
      value: 'angular',
    },
    {
      name: 'Svelte',
      value: 'svelte',
    },
  ], []);

  return (
    <Grid gutter={[32, 0]}>
      <Grid.Col>
        <Select width="200px" placeholder="Select option" disabled>
          <Select.Option value="1">Option 1</Select.Option>
          <Select.Option value="2">Option 2</Select.Option>
        </Select>
      </Grid.Col>
      <Grid.Col>
        <Select
          width="200px"
          placeholder="Select option"
          disabled
          multiple
          defaultValue={['react', 'vue']}
        >
          {optionsData.map((item) => (
            <Select.Option value={item.value} key={item.value}>
              {item.name}
            </Select.Option>
          ))}
        </Select>
      </Grid.Col>
    </Grid>
  );
}
`}
/>

## Disabled option

<Playground
  scope={{ Select }}
  code={`
<Select width="200px" placeholder="Select option">
  <Select.Option value="1" disabled>
    Option 1
  </Select.Option>
  <Select.Option value="2">Option 2</Select.Option>
</Select>
`}
/>

## Set parent element

The dropdown popup is rendered below the body element by default and outside the parent element, it may cause the dropdown popup to be cut off(when the parent element can be scrolled). To avoid this, you can set the parent element using the `getPopupContainer` prop.

When you set a new parent element, the dropdown popup will be rendered under this parent element. Since the dropdown popup uses `absolute` positioning, you need to set `relative` positioning for the parent element.

<Playground
  scope={{ Select }}
  code={`
<div
  id="parentElement"
  style={{
    position: 'relative',
    overflowY: 'auto',
    width: '400px',
    height: '200px',
  }}
>
  <div
    style={{
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      height: '400px',
    }}
  >
    <Select
      width="200px"
      placeholder="Select option"
      getPopupContainer={() => document.querySelector('#parentElement')}
    >
      <Select.Option value="1">Option 1</Select.Option>
      <Select.Option value="2">Option 2</Select.Option>
    </Select>
  </div>
</div>
`}
/>

## API

### Select

| Prop              | Description                                  | Type                                 | Default   |
| ----------------- | -------------------------------------------- | ------------------------------------ | --------- |
| type              | select type                                  | 'default' \| 'warning' \| 'error'    | 'default' |
| size              | select size                                  | 'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl' | 'md'      |
| defaultValue      | default selected value (uncontrolled)        | SelectValue                          | -         |
| value             | selected value (controlled)                  | SelectValue                          | -         |
| placeholder       | select placeholder                           | string                               | -         |
| width             | select width                                 | string                               | '100%'    |
| disabled          | disable select                               | boolean                              | false     |
| multiple          | support multiple selection                   | boolean                              | false     |
| clearable         | whether to show the clear icon               | boolean                              | false     |
| onChange          | change event handler                         | (value: SelectValue) => void         | -         |
| getPopupContainer | set the parent element of dropdown rendering | () => HTMLElement \| null            | -         |
| ...               | native props                                 | React.HTMLAttributes                 | -         |

### Select.Option

| Prop     | Description                 | Type                 | Default |
| -------- | --------------------------- | -------------------- | ------- |
| value    | unique identification value | string \| number     | -       |
| disabled | disable current option      | boolean              | false   |
| ...      | native props                | React.HTMLAttributes | -       |

## Type

```tsx
import { SelectOptionValue, SelectValue } from 'raw-ui';
```

### SelectOptionValue

```tsx
type SelectOptionValue = string | number | undefined;
```

### SelectValue

```tsx
type SelectValue = SelectOptionValue | SelectOptionValue[] | undefined;
```
